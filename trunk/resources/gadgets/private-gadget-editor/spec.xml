<?xml version="1.0" encoding="UTF-8"?>
<Module>
<ModulePrefs title="Private Gadget Editor" width="450" height="450">
  <Require feature="dynamic-height"/>
  <Require feature="setprefs"/>
  <Require feature="minimessage"/>
</ModulePrefs>
<Content type="html"><![CDATA[
<style>
#editor {
  width: 100%;
  height: 400px;
}

#button-bar {
  padding: 4px;
}

#gadget-list {
  font-size: 10pt;
}

.right-container {
  position: relative;
}

.right {
  position: absolute;
  top: 0px;
  right: 0px;
  margin: 4px;
}

#spec-url-wrapper {
  padding: 4px;
  font-size: 10pt;
  display: none;
}
</style>

<script type="text/javascript">
function addScript(src) {
  var script = document.createElement('script');
  script.src = src;
  document.body.appendChild(script);
};

if (location.href.indexOf('gmodules.com') > 0) {
  addScript('/ig/modules/codepress/codepress.js?ts=092908');
  addScript('/ig/modules/codepress/codepress_wrapper.js?ts=092908');
} else {
  addScript('http://google-feedserver.googlecode.com/svn/trunk/resources/gadgets/private-gadget-editor/codepress.js');
  addScript('http://www.google.com/ig/modules/codepress/codepress_wrapper.js?ts=092908');
}
</script>

<!--
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
-->
<script type="text/javascript" src="http://google-feedserver.googlecode.com/svn/trunk/resources/gadgets/private-gadget-editor/gdata-core.js"></script>
<script type="text/javascript" src="http://google-feedserver.googlecode.com/svn/trunk/resources/gadgets/private-gadget-editor/code.js"></script>

<div id="button-bar right-container">
  <span id="gadget-list">Loading ...</span>
  <button onclick="javascript:saveGadget(false)">Save</button>
  <button onclick="javascript:saveGadget(true)">Save As</button>
  <button onclick="javascript:deleteSelectedGadget()">Delete</button> |
  <button onclick="javascript:newGadget()">New</button>
  <button onclick="javascript:openGadgetByUrl()">Open URL</button>
  <div class="right">
    <span id="message-box"></span>
    <span id="spinner"></span>
  </div>
</div>

<div id="spec-url-wrapper">
  Spec URL: <a id="spec-url"></a>
</div>

<textarea id="editor" class="codepress gadget"></textarea>
<iframe id="codepress-iframe" style="display:none"></iframe>

<textarea id="gadget-spec-template" style="display:none">
<?xml version="1.0" encoding="UTF-8"?>
<Module>
<ModulePrefs title="hello world example" author_email="developer@example.com"/>
<Content type="html">
Hello, world of private gadgets!
</Content>
</Module>
</textarea>
]]></Content>
</Module>
