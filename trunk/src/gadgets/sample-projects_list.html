<!DOCTYPE html>

<html>
<head>
<title>Projects</title>

<style>
* {
  font-family: Georgia;
  font-size: small;
}
#project-list table {
  border: solid 1px #47a;
}
#project-list th {
  color: white;
  background-color: #47a;
  padding: 2px;
}
#project-list td {
  border-bottom: solid 1px #47a;
  vertical-align: top;
  padding: 2px;
}
</style>
<script type="text/javascript" src="gdata-min-test.js"></script>
<script type="text/javascript" src="force-xd2-authenticator.js"></script>
<script type="text/javascript">
function run() {
  window.start = new Date();
  var service = new google.gdata.client.GoogleService('lr', 'contacts',
      ForceXd2Authenticator);
  service.setAltSupport('json', false);
  service.setAltSupport('json-xd', false);
  service.setAltSupport('atom-xd', true);
  service.getFeed('http://qwer.corp.google.com:9090/test/Project',
      handleResponse, handleError);
};

function handleResponse(feedRoot) {
  var projectTable = '<table><tr><th>Id</th><th>Title</th><th>Status</th>' +
//      '<th>Content</th>' +
      '</tr>';
  var entries = feedRoot.feed.entry;
  for (var i = 0; i < entries.length; i++) {
    var entry = entries[i];
    projectTable += '<tr><td>' + entry.id.$t + '</td><td>' + entry.title.$t +
        '</td><td>' + entry.g$status.$t + '</td>' +
//        '<td>' + entry.content.$t + '</td>' +
        '</tr>';
  }
  projectTable += '</table>';

  var projectTableElement = document.getElementById('project-list');
  projectTableElement.innerHTML = projectTable;
};

function handleError(error) {
  alert(error);
};
</script>
</head>
<body>
This sample uses the FeedServer Server and GData JavaScript Client Library (a version modified for FeedServer) to get a list of projects.  It works on Firefox and IE.  <a href="javascript:run()">Get Projects</a>

<div id="project-list"></div>

<img src="Logo_25wht.gif" style="display: none">
</body>
</html>
